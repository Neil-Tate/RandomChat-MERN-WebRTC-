(this["webpackJsonpyour-app"]=this["webpackJsonpyour-app"]||[]).push([[0],{1016:function(e,t){},1019:function(e,t,a){},1020:function(e,t,a){},1021:function(e,t,a){},1022:function(e,t,a){},1023:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(20),r=a.n(s),o=(a(476),a(477),a(478),a(479),a(11)),l=a(12),c=a(15),h=a(14),u=a(93),d=a(295),m=a(94);function g(e){if(!e)return null;try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(a){return null}}function p(e,t){e||console.error("Error: Key is missing");try{localStorage.setItem(e,JSON.stringify(t))}catch(a){console.error(a)}}var f=a(10),v=a(3),b="https://anonymous-video-chat.herokuapp.com",E=(a(501),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={collapse:!1,isWideEnough:!1,restricted:!1},n.onClick=n.onClick.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.verifyAccount()}},{key:"verifyAccount",value:function(){var e=this;fetch(b+"/api/guest/ipverify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(t){t.status?e.setState({restricted:!1}):e.setState({restricted:!0})}))}},{key:"onClick",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement(v.w,{color:"bg-primary",fixed:"top",dark:!0,expand:"md",scrolling:!0,transparent:!0},i.a.createElement(v.i,{size:"md"},i.a.createElement(v.x,{href:"/"},i.a.createElement("strong",{className:"navbar-title"},"Chat With Stranger")),!this.state.isWideEnough&&i.a.createElement(v.z,{onClick:this.onClick}),i.a.createElement(v.h,{isOpen:this.state.collapse,navbar:!0},i.a.createElement(v.y,{right:!0},i.a.createElement(v.u,null,i.a.createElement(v.v,{to:"/guest",disabled:this.state.restricted},"GUEST")))))),i.a.createElement(v.E,{src:"/background.jpg"},i.a.createElement(v.s,{overlay:"purple-light",className:"flex-center flex-column text-white text-center"},i.a.createElement("strong",null,i.a.createElement("h2",null,"Random Video, Text & Audio Chat with Strangers")),i.a.createElement("br",null),i.a.createElement("h5",null,"It provides free random chat with cool people in private chat rooms."),i.a.createElement("p",null,"Chat with strangers & send pictures, videos in private free chat rooms. Meet & talk to strangers from all over the world."),i.a.createElement("br",null),i.a.createElement("div",{className:"btn-group"},i.a.createElement(v.v,{to:this.state.restricted?"/#":"/guest"},i.a.createElement(v.b,{color:"secondary",size:"lg",disabled:this.state.restricted},i.a.createElement(v.n,{icon:"user-shield",className:"mr-1",size:"lg"})," Chat as a guest"))),this.state.restricted?i.a.createElement("p",{className:"verify-alert"},"Your ip address is restricted from this chat"):null))),i.a.createElement("main",null,i.a.createElement(v.i,{className:"text-center my-5"},i.a.createElement("p",{align:"justify"},"Texting strangers might come naturally to some but others may have goose bumps when they are trying to text strangers. When you text strangers you are opening a window into a great text chat with strangers. The first few texts are the most difficult ones, once you have started texting and managed to move past opening texts the rest is easy peasy lemon squeezy. Sending a text to strangers is just like letter writing which was back then known as making pen pals. However, these days text to strangers chat room is a modern way of connecting with strangers. When you text strangers you are at the first step of a great conversation that could blossom into a good friendship or even a relationship. There are many examples in the world where people have found their soulmates when they were random texting strangers online. Many people online text with strangers in order to find some company and to talk to someone. When you send a text to strangers what happens next is a total mystery. It might end abruptly a couple of times whereas other times it might turn into a beautiful conversation and a pleasant experience."))))}}]),a}(i.a.Component)),S=(a(502),a(1031)),y=a(1032),k=a(1033),C=a(1030),N=a(1035),w=a(1036),j=(a(503),a(1037)),O=a(1028),U=a(1034),I=a(1029),M=(a(124),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e,n){var i;return Object(o.a)(this,a),(i=t.call(this,e,n)).handleChange=i.handleChange.bind(Object(f.a)(i)),i.handleChangeEmail=i.handleChangeEmail.bind(Object(f.a)(i)),i.handleChangeConfirm=i.handleChangeConfirm.bind(Object(f.a)(i)),i.handleChangeName=i.handleChangeName.bind(Object(f.a)(i)),i.handleDismiss=i.handleDismiss.bind(Object(f.a)(i)),i.handleShow=i.handleShow.bind(Object(f.a)(i)),i.signUpClicked=i.signUpClicked.bind(Object(f.a)(i)),i.displayAlert=i.displayAlert.bind(Object(f.a)(i)),i.state={password:"",email:"",confPass:"",name:"",signInLoading:!1,show:!1,signupStatus:"success",signUpMessage:"You have signed up successfully. Proceed to login."},i}return Object(l.a)(a,[{key:"validateEmail",value:function(){if(0===this.state.email.length)return null;return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(this.state.email).toLowerCase())?"success":"error"}},{key:"getValidationState",value:function(){var e=this.state.password.length;return e>8?"success":e>5?"warning":e>0?"error":null}},{key:"getValidationStateConf",value:function(){return 0===this.state.confPass.length?null:this.state.password===this.state.confPass?"success":"error"}},{key:"handleChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangeConfirm",value:function(e){this.setState({confPass:e.target.value})}},{key:"handleChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"handleDismiss",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"displayAlert",value:function(){return i.a.createElement(j.a,{bsStyle:this.state.signupStatus,onDismiss:this.handleDismiss,id:"alertBox"},i.a.createElement("p",null,this.state.signUpMessage))}},{key:"signUpClicked",value:function(e){var t=this;this.setState({signInLoading:!0});var a={password:this.state.password,name:this.state.name,email:this.state.email};fetch(b+"/api/account/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log("json",e),"Signed Up"===e.message?t.setState({signInLoading:!1,show:!0,signupStatus:"success",signUpMessage:"You have signed up successfully. Proceed to login.",name:"",password:"",confPass:"",email:""}):"Error: Account Already Exists"===e.message?t.setState({signInLoading:!1,show:!0,signupStatus:"warning",signUpMessage:"Account already Exists. Procced to login",name:"",password:"",confPass:"",email:""}):"Error: Server Error"===e.message&&t.setState({signInLoading:!1,show:!0,signupStatus:"danger",signUpMessage:"Unexpected error. Please try again later.",name:"",password:"",confPass:"",email:""})}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement(O.a,{controlId:"signUpName"},i.a.createElement(U.a,{type:"text",value:this.state.name,placeholder:"Name",onChange:this.handleChangeName})),i.a.createElement(O.a,{controlId:"signUpEmail",validationState:this.validateEmail()},i.a.createElement(U.a,{type:"email",value:this.state.email,placeholder:"Email",onChange:this.handleChangeEmail}),i.a.createElement(U.a.Feedback,null)),i.a.createElement(O.a,{controlId:"formBasicTextSignupPass",validationState:this.getValidationState()},i.a.createElement(U.a,{type:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange}),i.a.createElement(U.a.Feedback,null),i.a.createElement(I.a,{id:"passwordHelp"},"Password must be minimum 8 characters long")),i.a.createElement(O.a,{controlId:"formBasicTextSignupConfPass",validationState:this.getValidationStateConf()},i.a.createElement(U.a,{type:"password",value:this.state.confPass,placeholder:"Confirm Password",onChange:this.handleChangeConfirm}),i.a.createElement(U.a.Feedback,null)),i.a.createElement(C.a,{block:!0,bsStyle:"warning",disabled:this.state.signInLoading,onClick:this.state.signInLoading?null:this.signUpClicked},this.state.signInLoading?"Processing...":"Sign Up")),this.state.show?this.displayAlert():null)}}]),a}(n.Component)),x=(a(518),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e,n){var i;return Object(o.a)(this,a),(i=t.call(this,e,n)).handleChange=i.handleChange.bind(Object(f.a)(i)),i.handleChangeEmail=i.handleChangeEmail.bind(Object(f.a)(i)),i.logInClicked=i.logInClicked.bind(Object(f.a)(i)),i.handleDismiss=i.handleDismiss.bind(Object(f.a)(i)),i.handleShow=i.handleShow.bind(Object(f.a)(i)),i.displayAlert=i.displayAlert.bind(Object(f.a)(i)),i.state={password:"",email:"",logInLoading:!1,signInError:"",show:!1,logInStatus:"danger"},i}return Object(l.a)(a,[{key:"validateEmail",value:function(){if(0===this.state.email.length)return null;return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(this.state.email).toLowerCase())?"success":"error"}},{key:"getValidationState",value:function(){var e=this.state.password.length;return e>8?"success":e>5?"warning":e>0?"error":null}},{key:"handleChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"logInClicked",value:function(){var e=this,t=this.state,a=t.email,n=t.password;this.setState({logInLoading:!0}),fetch(b+"/api/account/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:n})}).then((function(e){return e.json()})).then((function(t){console.log("json",t),t.success?(p("the_login_n_signup",{token:t.token,name:t.name}),e.setState({signInError:"Welcome "+t.name+"!",logInLoading:!1,password:"",email:"",token:t.token,show:!0,logInStatus:"success"}),e.props.stateChanger({loggedIn:!0,token:t.token,loggedInName:t.name,logOutButtonStatus:"warning"})):e.setState({signInError:t.message,logInLoading:!1,show:!0,logInStatus:"danger"})}))}},{key:"handleDismiss",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"displayAlert",value:function(){return i.a.createElement(j.a,{bsStyle:this.state.logInStatus,onDismiss:this.handleDismiss,id:"alertBox"},i.a.createElement("p",null,this.state.signInError))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement(O.a,{controlId:"LogInEmail",validationState:this.validateEmail()},i.a.createElement(U.a,{type:"email",value:this.state.email,placeholder:"Email",onChange:this.handleChangeEmail}),i.a.createElement(U.a.Feedback,null)),i.a.createElement(O.a,{controlId:"formBasicText",validationState:this.getValidationState()},i.a.createElement(U.a,{type:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange}),i.a.createElement(U.a.Feedback,null))),i.a.createElement(C.a,{block:!0,bsStyle:"success",disabled:this.state.logInLoading,onClick:this.state.logInLoading?null:this.logInClicked},this.state.logInLoading?"Authenticating...":"Log In"),this.state.show?this.displayAlert():null)}}]),a}(n.Component)),P=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e,n){var i;return Object(o.a)(this,a),(i=t.call(this,e,n)).stateChanger=i.stateChanger.bind(Object(f.a)(i)),i.logOutClicked=i.logOutClicked.bind(Object(f.a)(i)),i.state={loggedIn:!1,token:"",loggedInName:"Unnamed Ashok Kumar",logOutButtonStatus:"warning",logOutLoadingMessage:"Log Out",logOutLoading:!1},i}return Object(l.a)(a,[{key:"stateChanger",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){var e=this,t=g("the_login_n_signup");if(t&&t.token){var a=t.token,n=t.name;fetch(b+"/api/account/verify?token="+a).then((function(e){return e.json()})).then((function(t){t.success?e.setState({token:a,loggedInName:n,logOutLoading:!1,loggedIn:!0}):e.setState({logOutLoading:!1})}))}else this.setState({logOutLoading:!1})}},{key:"logOutClicked",value:function(){var e=this;this.setState({logOutLoading:!0,logOutLoadingMessage:"Logging Out...",logOutButtonStatus:"info"});var t=g("the_login_n_signup");if(t&&t.token){var a=t.token;fetch(b+"/api/account/logout?token="+a).then((function(e){return e.json()})).then((function(t){t.success?e.setState({token:"",logOutLoading:!1,loggedIn:!1}):e.setState({logOutLoading:!1})}))}else this.setState({logOutLoading:!1})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",{className:"App-title"},"Login Or Sign-Up")),i.a.createElement(S.a,null,i.a.createElement(y.a,null,i.a.createElement(k.a,{md:4}),i.a.createElement(k.a,{xs:12,md:4},this.state.loggedIn?i.a.createElement("div",null,i.a.createElement("h1",null,"Welcome ",this.state.loggedInName,"!"),i.a.createElement(C.a,{block:!0,bsStyle:this.state.logOutButtonStatus,disabled:this.state.logOutLoading,onClick:this.state.logOutLoading?null:this.logOutClicked},this.state.logOutButtonStatus?"Log Out":"Logging Out")):i.a.createElement("div",{className:"loginBoxContainer"},i.a.createElement(N.a,{defaultActiveKey:1,id:"uncontrolled-tab-example"},i.a.createElement(w.a,{eventKey:1,title:"Login",className:"tabContent"},i.a.createElement(x,{stateChanger:this.stateChanger})),i.a.createElement(w.a,{eventKey:2,title:"Sign Up",className:"tabContent"},i.a.createElement(M,null))))),i.a.createElement(k.a,{md:4}))))}}]),a}(n.Component),A=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic (CAR)","Chad","Chile","China","Colombia","Comoros","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia (FYROM)","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar (Burma)","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates (UAE)","United Kingdom (UK)","United States of America (USA)","Uruguay","Uzbekistan","Vanuatu","Vatican City (Holy See)","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],T=(a(521),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e,n){var i;return Object(o.a)(this,a),(i=t.call(this,e,n)).handleChangeName=i.handleChangeName.bind(Object(f.a)(i)),i.handleChangeLocation=i.handleChangeLocation.bind(Object(f.a)(i)),i.handleChangeAge=i.handleChangeAge.bind(Object(f.a)(i)),i.handleChangeGender=i.handleChangeGender.bind(Object(f.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(f.a)(i)),i.state={userName:"",location:"Canada",age:28,gender:"Male",loginLoading:!1},i}return Object(l.a)(a,[{key:"handleChangeName",value:function(e){this.setState({userName:e.target.value})}},{key:"handleChangeLocation",value:function(e){this.setState({location:e.target.value})}},{key:"handleChangeAge",value:function(e){this.setState({age:e})}},{key:"handleChangeGender",value:function(e){this.setState({gender:e.target.value})}},{key:"componentWillUpdate",value:function(){console.log(this.state)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("form submitted");var a=this.state,n=a.userName,i=a.location,s=a.age,r=a.gender;this.setState({loginLoading:!0}),fetch(b+"/api/guest/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n,location:i,age:s,gender:r})}).then((function(e){return e.json()})).then((function(e){console.log("this is json object",e),e.status?(p("guest_signin",{token:e.token}),t.props.history.push("/chat")):alert("Server Error")}))}},{key:"render",value:function(){return i.a.createElement(v.C,null,i.a.createElement(v.g,{sm:"10",md:"7",lg:"6",xl:"4",className:"mx-auto mt-3 sign-container"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(v.c,null,i.a.createElement("div",{className:"text-center sign-title"},i.a.createElement("h5",{className:"dark-grey-text mb-5"},i.a.createElement("strong",null,"Sign in"))),i.a.createElement(v.d,{className:"mx-4"},i.a.createElement(v.p,{label:"Your Name",group:!0,type:"text",onChange:this.handleChangeName,validate:!0,error:"wrong",success:"right",required:!0}),i.a.createElement("select",{className:"browser-default custom-select",id:"location",name:"location",value:this.state.location,onChange:this.handleChangeLocation},i.a.createElement("option",null,"Choose your location"),A.map((function(e,t){return i.a.createElement("option",{value:e,key:t},e)}))),i.a.createElement("label",{className:"form-label"},"Your Age"),i.a.createElement(v.q,{id:"age",name:"age",getValue:this.handleChangeAge,min:13,max:99,value:this.state.age,className:"mb-2"}),i.a.createElement("label",{className:"form-label"},"Your Gender"),i.a.createElement("div",{className:"radio-group"},i.a.createElement("div",{className:"radio"},i.a.createElement("input",{id:"radio-1",name:"radio",type:"radio",value:"Male",onChange:this.handleChangeGender,checked:"Male"===this.state.gender}),i.a.createElement("label",{htmlFor:"radio-1",className:"radio-label"},"Male")),i.a.createElement("div",{className:"radio"},i.a.createElement("input",{id:"radio-2",name:"radio",type:"radio",value:"Female",onChange:this.handleChangeGender,checked:"Female"===this.state.gender}),i.a.createElement("label",{htmlFor:"radio-2",className:"radio-label"},"Female"))),i.a.createElement("div",{className:"text-center pt-3 mb-3"},i.a.createElement(v.b,{type:"submit",className:"btn-block z-depth-1a",outline:!0,color:"info"},this.state.logInLoading?"Authenticating...":"Start Chat"))),i.a.createElement(v.t,{className:"mx-5 pt-3 mb-1"})))))}}]),a}(i.a.Component)),L=a(470),D=a(464),F=a.n(D),R=a(463),_=a.n(R),B=a(462),G=a.n(B),z=a(197),W=a(198),H=a.n(W),V=a(200),q=a(469),K=(a(588),a(36)),J=a(459),Y=a(199),Z=a.n(Y),$=a(290),Q=a.n($),X=a(460),ee=a(461),te=(a(795),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onEditorStateChange=function(e){n.setState({editorState:e})},n.handleChangeComplete=function(e){var t="RGB(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,")");n.setState({pickerColor:t})},n.state={showEmojiPicker:!1,toolbar_show:!1,showColorPicker:!1,pickerColor:"RGB(0,0,0)",messageText:"",editorState:K.EditorState.createEmpty()},n.onAttachFile=n.onAttachFile.bind(Object(f.a)(n)),n.setDomEditorRef=function(e){return n.domEditor=e},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onSendClicked",value:function(){this.props.onSendClicked(Z()(Object(K.convertToRaw)(this.state.editorState.getCurrentContent()))),this.setState({editorState:K.EditorState.createEmpty()}),this.domEditor.focusEditor()}},{key:"onMessageInputChange",value:function(e){this.setState({messageText:e.target.value})}},{key:"onMessageKeyPress",value:function(e){"Enter"===e.key&&this.onSendClicked()}},{key:"toggleEmojiPicker",value:function(){this.setState({showEmojiPicker:!this.state.showEmojiPicker})}},{key:"addEmoji",value:function(e){var t=this.state.editorState,a=Z()(Object(K.convertToRaw)(t.getCurrentContent())),n=a.substring(0,a.length-5),i="".concat(n," :").concat(e.id,": </p>"),s=Q()(i),r=s.contentBlocks,o=s.entityMap,l=K.ContentState.createFromBlockArray(r,o),c=K.EditorState.createWithContent(l);this.setState({editorState:c})}},{key:"closeEmojiPicker",value:function(){this.setState({showEmojiPicker:!1})}},{key:"toggle_toolbar",value:function(){this.setState({toolbar_show:!this.state.toolbar_show})}},{key:"keyBindingFunction",value:function(e){return this.props.onTyping(),K.KeyBindingUtil.hasCommandModifier(e)&&e.ctrlKey&&"Enter"===e.key||"Enter"!==e.key?Object(K.getDefaultKeyBinding)(e):void this.onSendClicked()}},{key:"findTargetUser",value:function(){this.props.findTargetUser()}},{key:"onAttachFile",value:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("attachFile",this.attachFile.files[0]),fetch("".concat(b,"/api/attach-file"),{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){if(e.status){var a,n=t.state.editorState,i=Z()(Object(K.convertToRaw)(n.getCurrentContent()));console.log("this is convert html",i),console.log("last index charactor",i.substring(i.length-5)),a=i.substring(0,i.length),console.log("Index and subhtml",a,i.length);var s='<img src="'.concat(b,"/public/uploads/").concat(e.fileName,'" alt="').concat(b,"/public/uploads/").concat(e.fileName,'">'),r="".concat(a).concat(s),o=Q()(r),l=o.contentBlocks,c=o.entityMap,h=K.ContentState.createFromBlockArray(l,c),u=K.EditorState.createWithContent(h);t.setState({editorState:u}),console.log("this is total html",r),t.domEditor.focusEditor()}}))}},{key:"image_thumbs",value:function(){console.log("image thumbs start")}},{key:"toggleColorPicker",value:function(){this.setState({showColorPicker:!this.state.showColorPicker})}},{key:"hideColorPicker",value:function(){this.setState({showColorPicker:!1})}},{key:"onApplyColorPicker",value:function(){this.domEditor.focusEditor(),setTimeout(function(){var e=Object(ee.toggleCustomInlineStyle)(this.state.editorState,"color",this.state.pickerColor);this.setState({editorState:e,showColorPicker:!1})}.bind(this),500)}},{key:"callWithVideo",value:function(e){var t={audio:!0,video:e};this.props.startCall(!0,this.props.targetUser.id,t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(z.Navbar,{left:i.a.createElement("div",null,i.a.createElement(z.Avatar,{src:"".concat(b,"/public/profile/").concat(this.props.signedInUser.profile_image,"?").concat(this.props.imageHash),alt:"logo",size:"large",type:"circle flexible"}),i.a.createElement("div",{className:"user-info"},i.a.createElement("p",{className:"navBarText user-name"},this.props.signedInUser.userName),i.a.createElement("p",{className:"navBarText user-title"},this.props.signedInUser.gender,"   ",this.props.signedInUser.age," ",this.props.signedInUser.location))),center:i.a.createElement("div",null,i.a.createElement(v.b,{className:"action-btn next-user",color:"primary",onClick:this.findTargetUser.bind(this)},i.a.createElement("img",{alt:"Arrow, person, profile, right, user icon",className:"n3VNCb",src:"".concat(b,"/public/find-user.webp")}))),right:i.a.createElement("div",null,i.a.createElement("div",{className:"navbar-right"},i.a.createElement(v.b,{className:"action-btn phone",color:"primary",onClick:this.callWithVideo.bind(this,!1),disabled:"undefined"==typeof this.props.targetUser.id},i.a.createElement(H.a,{path:V.b,size:1,horizontal:!0,vertical:!0,rotate:180})),i.a.createElement(v.b,{className:"action-btn video",color:"primary",onClick:this.callWithVideo.bind(this,!0),disabled:"undefined"==typeof this.props.targetUser.id},i.a.createElement(H.a,{path:V.c,size:1,horizontal:!0,vertical:!0,rotate:180})),i.a.createElement(v.j,null,i.a.createElement(v.m,{caret:!0,color:"primary",className:"action-btn"},i.a.createElement(H.a,{path:V.a,size:1,horizontal:!0,vertical:!0})),i.a.createElement(v.l,{basic:!0},i.a.createElement(v.k,{onClick:function(){e.props.onProfileModalShow(!0)}},"Your Profile"),i.a.createElement(v.k,{onClick:function(){e.props.onSearchSettingModalShow(!0)}},"Search Setting"),i.a.createElement(v.k,{onClick:function(){e.props.onReportModalShow(!0)},disabled:"undefined"==typeof this.props.targetUser.id},"Report"),i.a.createElement(v.k,{divider:!0}),i.a.createElement(v.k,{onClick:this.props.logOut},"Log Out")))))}),this.props.targetUser.id?i.a.createElement("div",null,i.a.createElement(z.MessageList,{className:"message-list",lockable:!0,toBottomHeight:"300",dataSource:this.props.targetUser.messages,downButton:!0}),i.a.createElement(G.a,{className:"send-message-form"},i.a.createElement(_.a,{style:{width:"100%",position:"relative"}},i.a.createElement("i",{className:"toggle-emoji far fa-smile toggle-icon",onClick:this.toggleEmojiPicker.bind(this)}),i.a.createElement(v.n,{icon:"palette",size:"lg",onClick:this.toggle_toolbar.bind(this),className:"font-selector mr-1 toggle-icon"}),i.a.createElement(J.Editor,{ref:this.setDomEditorRef,editorState:this.state.editorState,placeholder:"Type a message...",wrapperClassName:"demo-wrapper",toolbarClassName:this.state.toolbar_show?"":"toggle-toolbar",editorClassName:"demo-editor",keyBindingFn:this.keyBindingFunction.bind(this),onEditorStateChange:this.onEditorStateChange,toolbar:{options:["inline","colorPicker","fontSize","fontFamily"],inline:{inDropdown:!1,options:["bold","italic","underline"]},image:{uploadEnabled:!0},inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",fontSize:{options:[8,9,10,11,12,14,16,18,20]}}}),this.state.showColorPicker?i.a.createElement("div",null,i.a.createElement(X.SketchPicker,{color:this.state.pickerColor,onChangeComplete:this.handleChangeComplete.bind(this)}),i.a.createElement("button",{className:"color-confirm",onClick:this.onApplyColorPicker.bind(this)},"Apply"),i.a.createElement("button",{className:"color-cancel",onClick:this.hideColorPicker.bind(this)},"Cancel"),i.a.createElement("div",{className:"color-picker-hide",onClick:this.hideColorPicker.bind(this)})):null,this.state.toolbar_show?i.a.createElement("button",{className:"color-picker-toggle",onClick:this.toggleColorPicker.bind(this)},i.a.createElement("i",{className:"fas fa-eye-dropper"})):null,i.a.createElement("label",{htmlFor:"attachFile",className:"attach-file"},i.a.createElement("i",{className:"fas fa-paperclip toggle-icon "})),i.a.createElement("input",{ref:function(t){e.attachFile=t},onChange:this.onAttachFile.bind(this),type:"file",id:"attachFile",accept:".png, .jpg, .jpeg"}),i.a.createElement(F.a.Button,null,i.a.createElement("div",{disabled:!this.state.messageText,className:"sendButton",onClick:this.onSendClicked.bind(this)},i.a.createElement("svg",{className:"jss4",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},i.a.createElement("path",{fill:"#fff",d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))))))):i.a.createElement("div",{className:"waiting-container"},i.a.createElement("div",{className:"title-box"},i.a.createElement("h2",null,"Welcome, ",this.props.signedInUser.userName,"!"),i.a.createElement("br",null)),i.a.createElement("div",{className:"body-box"},i.a.createElement("p",{className:"select-friend",onClick:this.findTargetUser.bind(this)},"Select a friend to start a chat.")))),i.a.createElement(q.a,{style:this.state.showEmojiPicker?{position:"absolute",bottom:"90px",right:"10px",opacity:"1"}:{position:"absolute",bottom:"90px",right:"10px",opacity:"0",zIndex:"-3"},onSelect:this.addEmoji.bind(this),emojiTooltip:!0}),this.state.showEmojiPicker?i.a.createElement("div",null,i.a.createElement("div",{className:"emoji-back",onClick:this.closeEmojiPicker.bind(this)})):null)}}]),a}(n.Component)),ae=(a(799),function(){return i.a.createElement("div",{className:"message-text message-text-left on-typing"},i.a.createElement("div",{id:"circleG"},i.a.createElement("div",{id:"circleG_1",className:"circleG"}),i.a.createElement("div",{id:"circleG_2",className:"circleG"}),i.a.createElement("div",{id:"circleG_3",className:"circleG"})))}),ne=a(120),ie=(a(800),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={imageURL:"".concat(b,"/public/profile/").concat(n.props.profileInfo.profile_image),userName:n.props.profileInfo.userName,age:n.props.profileInfo.age,location:n.props.profileInfo.location,gender:n.props.profileInfo.gender,imageHash:n.props.imageHash},n.handleUploadImage=n.handleUploadImage.bind(Object(f.a)(n)),n.handleChangeProfile=n.handleChangeProfile.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(){this.setState({imageURL:"".concat(b,"/public/profile/").concat(this.props.profileInfo.profile_image)})}},{key:"handleUploadImage",value:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("file",this.uploadInput.files[0]),a.append("fileName",this.fileName.value),console.log("upload file name",this.fileName.value),fetch("".concat(b,"/api/profile/image"),{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){console.log("this is json object",e),e.status?(p("guest_signin",{token:e.token}),t.props.updateProfile(),t.setState({imageHash:Date.now()})):alert("Server Error")}))}},{key:"handleChangeProfile",value:function(e){var t=this;e.preventDefault(),console.log("profile update setting",this.props.profileInfo);var a=this.state,n=a.userName,i=a.location,s=a.age,r=a.gender,o=this.props.profileInfo._id;this.setState({loginLoading:!0}),fetch(b+"/api/profile/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:o,userName:n,location:i,age:s,gender:r})}).then((function(e){return e.json()})).then((function(e){console.log("this is json object",e),e.status?(p("guest_signin",{token:e.token}),t.props.updateProfile(),t.props.onProfileModalShow(!1)):alert("Server Error")}))}},{key:"onProfileModalShow",value:function(){this.props.onProfileModalShow(!1)}},{key:"handleChangeName",value:function(e){this.setState({userName:e.target.value})}},{key:"handleChangeLocation",value:function(e){this.setState({location:e.target.value})}},{key:"handleChangeAge",value:function(e){this.setState({age:e})}},{key:"handleChangeGender",value:function(e){this.setState({gender:e.target.value})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(v.C,Object(ne.a)({className:"mt-5"},"className",this.props.profileContainer),i.a.createElement(v.g,null,i.a.createElement(v.f,{onClick:this.onProfileModalShow.bind(this)}),i.a.createElement(v.r,{className:"text-center"},i.a.createElement(v.d,null,i.a.createElement("form",{onSubmit:this.handleChangeProfile},i.a.createElement("div",{className:"profile-image"},i.a.createElement("img",{src:"".concat(this.state.imageURL,"?").concat(this.state.imageHash),className:"img-fluid",alt:"profile-img"}),i.a.createElement("div",{className:"upload-button"},i.a.createElement("label",{htmlFor:"imageUpload"}),i.a.createElement("input",{ref:function(t){e.uploadInput=t},onChange:this.handleUploadImage.bind(this),type:"file",id:"imageUpload",accept:".png, .jpg, .jpeg"}),i.a.createElement("input",{ref:function(t){e.fileName=t},value:this.props.profileInfo.profile_image,type:"hidden"})),i.a.createElement("h4",{className:"userName"},this.props.profileInfo.userName),i.a.createElement("h6",{className:"userInfo"},"".concat(this.props.profileInfo.gender,"  ").concat(this.props.profileInfo.age,"  ").concat(this.props.profileInfo.location)),i.a.createElement("hr",null)),i.a.createElement("div",null,i.a.createElement(v.p,{label:"Your Name",ref:function(t){e.userName=t},group:!0,type:"text",onChange:this.handleChangeName.bind(this),validate:!0,error:"wrong",success:"right",value:this.state.userName,required:!0,disabled:!0}),i.a.createElement("label",{className:"form-label"},"Your Location"),i.a.createElement("select",{className:"browser-default custom-select",id:"location",name:"location",value:this.state.location,onChange:this.handleChangeLocation.bind(this)},i.a.createElement("option",null,"Choose your location"),A.map((function(e,t){return i.a.createElement("option",{value:e,key:t},e)}))),i.a.createElement("label",{className:"form-label"},"Your Age"),i.a.createElement(v.q,{id:"age",name:"age",getValue:this.handleChangeAge.bind(this),min:13,max:99,value:this.state.age,className:"mb-2"}),i.a.createElement("label",{className:"form-label"},"Your Gender"),i.a.createElement("div",{className:"radio-group"},i.a.createElement("div",{className:"radio"},i.a.createElement("input",{id:"radio-1",name:"radio",type:"radio",value:"Male",onChange:this.handleChangeGender.bind(this),checked:"Male"===this.state.gender,disabled:!0}),i.a.createElement("label",{htmlFor:"radio-1",className:"radio-label"},"Male")),i.a.createElement("div",{className:"radio"},i.a.createElement("input",{id:"radio-2",name:"radio",type:"radio",value:"Female",onChange:this.handleChangeGender.bind(this),checked:"Female"===this.state.gender,disabled:!0}),i.a.createElement("label",{htmlFor:"radio-2",className:"radio-label"},"Female"))),i.a.createElement("div",{className:"text-center pt-3 mb-3"},i.a.createElement(v.b,{type:"submit",color:"primary",size:"sm"},"Apply"),i.a.createElement(v.b,{color:"cyan",size:"sm",onClick:this.onProfileModalShow.bind(this)},"Close")))))))))}}]),a}(n.Component)),se=(a(384),a(801),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(o.a)(this,a);var i=(n=t.call(this,e)).props.imageUrl.split("public/")[1];return n.state={downloadPath:i},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onShowImageFullScreen",value:function(){this.props.onShowImageFullScreen()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"full-image"},i.a.createElement("span",{onClick:this.onShowImageFullScreen.bind(this),className:"close-btn"},"X"),i.a.createElement("a",{href:this.props.imageUrl,download:"image-file",className:"download-btn"},i.a.createElement("i",{class:"fa fa-download"})),i.a.createElement("img",{src:this.props.imageUrl,alt:""})))}}]),a}(n.Component)),re=a(293),oe=(a(856),(0,re.a.createSliderWithTooltip)(re.a.Range)),le=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(o.a)(this,a);var i=(n=t.call(this,e)).props.searchSetting;return n.state={searchSetting:i},n.handleChangeGender=n.handleChangeGender.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"handleChangeSearchSetting",value:function(e){e.preventDefault()}},{key:"handleChangeGender",value:function(e){var t=this.state.searchSetting;t.gender=e.target.value,this.setState({searchSetting:t})}},{key:"handleChangeLocation",value:function(e){console.log(e.target.value);var t=this.state.searchSetting;t.location=e.target.value,this.setState({searchSetting:t})}},{key:"handleChangeAge",value:function(e){var t=this.state.searchSetting;t.ageMin=e[0],t.ageMax=e[1],this.setState({searchSetting:t})}},{key:"onSearchSettingModalShow",value:function(){this.props.onSearchSettingModalShow(!1)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(v.C,Object(ne.a)({className:"mt-5"},"className",this.props.searchContainer),i.a.createElement(v.g,null,i.a.createElement(v.f,{onClick:this.onSearchSettingModalShow.bind(this)}),i.a.createElement(v.r,{className:"text-center"},i.a.createElement(v.e,{className:"card-title h4 pb-2"},i.a.createElement("strong",null," Search Filter Setting ")),i.a.createElement(v.d,null,i.a.createElement("form",{onSubmit:this.handleChangeSearchSetting.bind(this)},i.a.createElement("div",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"form-label"}," Location "),i.a.createElement("select",{className:"browser-default custom-select",id:"location1",name:"location1",value:this.props.searchSetting.location,onChange:this.handleChangeLocation.bind(this)},i.a.createElement("option",{value:""}," All "),A.map((function(e,t){return i.a.createElement("option",{value:e,key:t}," ",e," ")})))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"form-label"}," Age Range "),i.a.createElement(oe,{min:13,max:99,defaultValue:[this.props.searchSetting.ageMin,this.props.searchSetting.ageMax],tipFormatter:function(e){return"".concat(e)},onChange:this.handleChangeAge.bind(this)})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"form-label"}," Gender "),i.a.createElement("div",{className:"radio-group"},i.a.createElement("div",{className:"radio"},i.a.createElement("input",{id:"radio1",name:"radio1",type:"radio",value:"",onChange:this.handleChangeGender.bind(this),checked:""===this.state.searchSetting.gender}),i.a.createElement("label",{htmlFor:"radio1",className:"radio-label"}," All ")),i.a.createElement("div",{className:"radio"},i.a.createElement("input",{id:"radio2",name:"radio1",type:"radio",value:"Male",onChange:this.handleChangeGender.bind(this),checked:"Male"===this.state.searchSetting.gender}),i.a.createElement("label",{htmlFor:"radio2",className:"radio-label"}," Male ")),i.a.createElement("div",{className:"radio"},i.a.createElement("input",{id:"radio3",name:"radio1",type:"radio",value:"Female",onChange:this.handleChangeGender.bind(this),checked:"Female"===this.state.searchSetting.gender}),i.a.createElement("label",{htmlFor:"radio3",className:"radio-label"}," Female ")))),i.a.createElement("div",{className:"text-center pt-3 mb-3"},i.a.createElement(v.b,{color:"cyan",size:"sm",onClick:this.onSearchSettingModalShow.bind(this)},"Close")))))))))}}]),a}(n.Component),ce=a(27),he=(a(866),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={reportList:["Spam","Inappropriate or Vulgar Content","Illegal Content","Abusive behaviour","Other"],reportReason:"",inputTextActive:!1},n}return Object(l.a)(a,[{key:"handleReport",value:function(e){if(e.preventDefault(),console.log("this is report setting state",this.state),console.log("type of target id",typeof this.props.targetUser._id),"undefined"==typeof this.props.targetUser._id)return ce.NotificationManager.error("Please select target user"),!1;fetch(b+"/api/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportUser:this.props.signedInUser,targetUser:this.props.targetUser,reason:this.state.reportReason})}).then((function(e){return e.json()})).then((function(e){e.status?ce.NotificationManager.success(e.message):ce.NotificationManager.error(e.message)}))}},{key:"handleChangeReportSetting",value:function(e){"Other"!==e.target.value?this.setState({reportReason:e.target.value,inputTextActive:!1}):this.setState({inputTextActive:!0})}},{key:"handleOtherReason",value:function(e){this.setState({reportReason:e.target.value})}},{key:"onReportModalShow",value:function(){this.props.onReportModalShow(!1)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(v.C,Object(ne.a)({className:"mt-5"},"className",this.props.reportContainer),i.a.createElement(v.g,null,i.a.createElement(v.f,{onClick:this.onReportModalShow.bind(this)}),i.a.createElement(v.r,{className:"text-center"},i.a.createElement(v.e,{className:"card-title h4 pb-2"},i.a.createElement("strong",null," Report User ")),i.a.createElement("hr",null),i.a.createElement(v.d,null,i.a.createElement("form",{onSubmit:this.handleReport.bind(this)},i.a.createElement("div",null,i.a.createElement("div",{className:"form-group"},this.state.reportList.map((function(t,a){return i.a.createElement("div",{className:"radio",key:"".concat(t,"-container")},i.a.createElement("input",{id:"report-radio".concat(a),name:"report-radio",type:"radio",value:t,key:t,onChange:e.handleChangeReportSetting.bind(e)}),i.a.createElement("label",{htmlFor:"report-radio".concat(a),className:"radio-label"}," ",t," "))}))),i.a.createElement("div",{className:"form-group"},this.state.inputTextActive?i.a.createElement("div",{className:"form-group report-reason"},i.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",onChange:this.handleOtherReason.bind(this),required:!0})):null),i.a.createElement("div",{className:"text-center pt-3 mb-3"},i.a.createElement(v.b,{type:"submit",color:"cyan",size:"sm"},"Report"),i.a.createElement(v.b,{color:"cyan",size:"sm",onClick:this.onReportModalShow.bind(this)},"Close")))))))))}}]),a}(n.Component)),ue=a(196),de=a.n(ue),me=a(95),ge=a.n(me),pe=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement(ge.a,{show:this.props.show},i.a.createElement(ge.a.Header,null,i.a.createElement(ge.a.Title,null,"Error")),i.a.createElement(ge.a.Body,null,i.a.createElement("h1",{className:"text-center"},i.a.createElement(de.a,{glyph:"alert"})),i.a.createElement("h5",{className:"text-center"},this.props.errorMessage)))}}]),a}(n.Component),fe=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement(ge.a,{show:this.props.show},i.a.createElement(ge.a.Body,null,i.a.createElement("h1",{className:"text-center"},i.a.createElement(de.a,{glyph:"refresh"})),i.a.createElement("h5",{className:"text-center"},"Loading...")))}}]),a}(n.Component),ve=(a(939),a(271),a(291)),be=a.n(ve),Ee=a(202),Se=a.n(Ee),ye=a(292),ke=a.n(ye),Ce=(a(989),a(109)),Ne=a.n(Ce),we=a(468),je=a.n(we).a.connect("".concat(b)),Oe=function(){function e(){Object(o.a)(this,e),this.events={}}return Object(l.a)(e,[{key:"emit",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return this.events[e]&&this.events[e].forEach((function(e){return e.apply(void 0,a)})),this}},{key:"on",value:function(e,t){return this.events[e]?this.events[e].push(t):this.events[e]=[t],this}},{key:"off",value:function(e,t){if(e&&Ne.a.isFunction(t)){var a=this.events[e],n=a.findIndex((function(e){return e===t}));a.splice(n,1)}else this.events[e]=[];return this}}]),e}(),Ue=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"start",value:function(){var e=this;return navigator.mediaDevices.getUserMedia({video:{facingMode:"user",height:{min:360,ideal:720,max:1080}},audio:!0}).then((function(t){e.stream=t,e.emit("stream",t)})).catch((function(e){e instanceof DOMException?alert("Cannot open webcam and/or microphone"):console.log(e)})),this}},{key:"toggle",value:function(e,t){var a=arguments.length;return this.stream&&this.stream["get".concat(e,"Tracks")]().forEach((function(e){var n=2===a?t:!e.enabled;Ne.a.set(e,"enabled",n)})),this}},{key:"stop",value:function(){return this.stream&&this.stream.getTracks().forEach((function(e){return e.stop()})),this}}]),a}(Oe),Ie={iceServers:[{url:"turn:numb.viagenie.ca",credential:"nothingbutthebest",username:"bluesky410219@gmail.com"}]},Me=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this)).pc=new RTCPeerConnection(Ie),n.pc.onicecandidate=function(e){return je.emit("call",{to:n.friendID,candidate:e.candidate})},n.pc.ontrack=function(e){return n.emit("peerStream",e.streams[0])},n.mediaDevice=new Ue,n.friendID=e,n}return Object(l.a)(a,[{key:"start",value:function(e,t){var a=this;return this.mediaDevice.on("stream",(function(t){t.getTracks().forEach((function(e){a.pc.addTrack(e,t)})),a.emit("localStream",t),e?je.emit("request",{to:a.friendID}):a.createOffer()})).start(t),this}},{key:"stop",value:function(e){return e&&je.emit("end",{to:this.friendID}),this.mediaDevice.stop(),this.pc.close(),this.pc=null,this.off(),this}},{key:"createOffer",value:function(){return this.pc.createOffer().then(this.getDescription.bind(this)).catch((function(e){return console.log(e)})),this}},{key:"createAnswer",value:function(){return this.pc.createAnswer().then(this.getDescription.bind(this)).catch((function(e){return console.log(e)})),this}},{key:"getDescription",value:function(e){return this.pc.setLocalDescription(e),je.emit("call",{to:this.friendID,sdp:e}),this}},{key:"setRemoteDescription",value:function(e){var t=new RTCSessionDescription(e);return this.pc.setRemoteDescription(t),this}},{key:"addIceCandidate",value:function(e){if(e){var t=new RTCIceCandidate(e);this.pc.addIceCandidate(t)}return this}}]),a}(Oe),xe=a(294),Pe=a(2),Ae=a.n(Pe),Te=(a(1019),function(e,t){return Ae()("btn-action fa ".concat(e),{disable:!t})});var Le=function(e){var t=e.peerSrc,a=e.localSrc,s=e.config,r=e.mediaDevice,o=e.status,l=e.endCall,c=Object(n.useRef)(null),h=Object(n.useRef)(null),u=Object(n.useState)(s.video),d=Object(xe.a)(u,2),m=d[0],g=d[1],p=Object(n.useState)(s.audio),f=Object(xe.a)(p,2),v=f[0],b=f[1];Object(n.useEffect)((function(){c.current&&t&&(c.current.srcObject=t),h.current&&a&&(h.current.srcObject=a)})),Object(n.useEffect)((function(){r&&(r.toggle("Video",m),r.toggle("Audio",v))}));var E=function(e){"video"===e&&(g(!m),r.toggle("Video")),"audio"===e&&(b(!v),r.toggle("Audio"))};return i.a.createElement("div",{className:Ae()("call-window",o)},i.a.createElement("div",{className:"video-contact"},i.a.createElement("video",{id:"peerVideo",ref:c,autoPlay:!0})),i.a.createElement("div",{className:"video-user"},i.a.createElement("video",{id:"localVideo",ref:h,autoPlay:!0,muted:!0})),i.a.createElement("div",{className:"video-control"},i.a.createElement("button",{key:"btnVideo",type:"button",className:Te("fa-video",m),onClick:function(){return E("video")}}),i.a.createElement("button",{key:"btnAudio",type:"button",className:Te("fa-microphone",v),onClick:function(){return E("audio")}}),i.a.createElement("button",{type:"button",className:"btn-action hangup fa fa-phone",onClick:function(){return l(!0)}})))};a(1020);var De=function(e){var t=e.status,a=e.callFrom,n=e.startCall,s=e.rejectCall,r=e.contactUser,o=e.userAvatar,l=function(e){var t={audio:!0,video:e};return function(){return n(!1,a,t)}};return i.a.createElement("div",{className:Ae()("call-modal",t)},i.a.createElement("div",{className:"target-avatar"},i.a.createElement("img",{src:"".concat(b,"/public/profile/").concat(o),alt:"contact-user"})),i.a.createElement("p",null,i.a.createElement("span",{className:"caller"},"".concat(r))),i.a.createElement("span",{className:"incoming"},"Incoming call..."),i.a.createElement("button",{type:"button",className:"btn-action fa fa-video",onClick:l(!0)}),i.a.createElement("button",{type:"button",className:"btn-action fa fa-phone",onClick:l(!1)}),i.a.createElement("button",{type:"button",className:"btn-action hangup fa fa-phone",onClick:s}))},Fe=g("guest_signin");if(Fe&&Fe.token)var Re=Se()(Fe.token).user;var _e=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a),(e=t.call(this)).socket=null;var n=g("guest_signin");if(n&&n.token)var i=Se()(n.token).user;return e.state={signInModalShow:!1,users:[],userChatData:"",user:null,selectedUserIndex:1,profileModalShow:"",searchModalShow:"",reportModalShow:"",error:!1,errorMessage:"",targetUser:"",blackUsersList:[i._id],signedInUser:i,searchSetting:{location:"",gender:"",ageMin:13,ageMax:99},onTyping:!1,showImageFullScreen:!1,imageHash:Date.now(),callWindow:"",callModal:"",callFrom:"",localSrc:null,peerSrc:null},e.pc={},e.config=null,e.startCallHandler=e.startCall.bind(Object(f.a)(e)),e.endCallHandler=e.endCall.bind(Object(f.a)(e)),e.rejectCallHandler=e.rejectCall.bind(Object(f.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.verifyAccount(),this.initAxios(),this.initSocketConnection(),this.createSocketRoom(),this.setupSocketListeners()}},{key:"componentDidUpdate",value:function(){for(var e=document.getElementsByTagName("img"),t=this,a=0;a<e.length;a++)e[a].addEventListener("click",(function(){this.hasAttribute("data_group")&&(console.log("this is attach file property",this.attributes.getNamedItem("src").value),t.setState({showImageFullScreen:!0,attachFileUrl:this.attributes.getNamedItem("src").value}))}))}},{key:"verifyAccount",value:function(){var e=this,t=g("guest_signin");fetch(b+"/api/guest/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t.token})}).then((function(e){return e.json()})).then((function(t){t.status||(localStorage.clear(),e.props.history.push("/"))}))}},{key:"initSocketConnection",value:function(){this.socket=je}},{key:"initAxios",value:function(){var e=this;be.a.interceptors.request.use((function(t){return e.setState({loading:!0}),t}),(function(t){return e.setState({loading:!1}),e.setState({errorMessage:"Couldn't connect to server. try refreshing the page.",error:!0}),Promise.reject(t)})),be.a.interceptors.response.use((function(t){return e.setState({loading:!1}),t}),(function(t){return e.setState({loading:!1}),e.setState({errorMessage:"Some error occured. try after sometime",error:!0}),Promise.reject(t)}))}},{key:"onClientDisconnected",value:function(){ce.NotificationManager.error("Connection Lost from server please check your connection.","Error!")}},{key:"onReconnection",value:function(){this.state.user&&(this.socket.emit("sign-in",this.state.user),ce.NotificationManager.success("Connection Established.","Reconnected!"))}},{key:"createSocketRoom",value:function(){this.socket.emit("create_room",this.state.signedInUser)}},{key:"findTargetUser",value:function(){var e={blackUsersList:this.state.blackUsersList,searchSetting:this.state.searchSetting,signedInUser:this.state.signedInUser,prevTargetUser:this.state.targetUser};this.socket.emit("find_target",e)}},{key:"onFindTargetUser",value:function(e){if(console.log("this is target user",e),this.state.targetUser){var t=this.state.blackUsersList;t.push(this.state.targetUser._id),this.setState({blackUsersList:t})}var a={id:e._id,name:e.userName,profile_image:e.profile_image,gender:e.gender,location:e.location,age:e.age};this.setState({targetUser:e}),this.setState({userChatData:a});var n={to:this.state.signedInUser._id,message:{type:"text",text:'<span style="color: blue;">You are now connected to '.concat(this.state.targetUser.userName,"<br>").concat(this.state.targetUser.gender," ").concat(this.state.targetUser.age," ").concat(this.state.targetUser.location,"</span>"),className:"message"},from:this.state.targetUser._id};this.socket.emit("message",n)}},{key:"onSearchNone",value:function(){ce.NotificationManager.error("Sorry your search did not have any results. Please widen your search"),this.setState({targetUser:""}),this.setState({userChatData:{}})}},{key:"onAvailableNone",value:function(){ce.NotificationManager.error("You have already contacted with all online users. Try search again"),this.setState({targetUser:""}),this.setState({userChatData:{}})}},{key:"onIgnore",value:function(){this.setState({targetUser:""}),this.setState({userChatData:{}})}},{key:"setupSocketListeners",value:function(){var e=this;this.socket.on("message",this.onMessageRecieved.bind(this)),this.socket.on("reconnect",this.onReconnection.bind(this)),this.socket.on("disconnect",this.onClientDisconnected.bind(this)),this.socket.on("find_target",this.onFindTargetUser.bind(this)),this.socket.on("search-none",this.onSearchNone.bind(this)),this.socket.on("available-none",this.onAvailableNone.bind(this)),this.socket.on("ignore",this.onIgnore.bind(this)),this.socket.on("on-typing",this.onTargetUserTyping.bind(this)),this.socket.on("target-disconnect",this.onTargetDisconnect.bind(this)),this.socket.on("target-logout",this.onTargetLogout.bind(this)),this.socket.on("log-out",this.onLogOut.bind(this)),this.socket.on("request",(function(t){var a=t.from;e.setState({callModal:"active",callFrom:a})})).on("call",(function(t){t.sdp?(e.pc.setRemoteDescription(t.sdp),"offer"===t.sdp.type&&e.pc.createAnswer()):e.pc.addIceCandidate(t.candidate)})).on("end",this.endCall.bind(this,!1)).emit("init")}},{key:"customeRenderAddCamp",value:function(){}},{key:"onMessageRecieved",value:function(e){var t=this.state.userChatData,a=e.message,n=a.text;if("<p></p>\n"===n)return!1;for(var i=a.text,s=Object(L.a)(i.matchAll(/:[\w]+[_]?[-]?[+]*[\w]+:/g)),r=0;r<s.length;r++){var o=document.querySelector("[title="+String(s[r]).split(":").join("")+"]").innerHTML;n=n.replace(String(s[r]),String(o))}n=n.split("<img").join("<img data_group='attach-file'"),e.from===this.state.signedInUser._id?(a.position="right",a.renderAddCmp=function(){return ke()('<div className="message-text message-text-right">'.concat(n,"</div>"))},a.avatar="".concat(b,"/public/profile/").concat(this.state.signedInUser.profile_image)):(a.position="left",a.renderAddCmp=function(){return ke()('<div className="message-text message-text-left">'.concat(n,"</div>"))},a.avatar="".concat(b,"/public/profile/").concat(this.state.targetUser.profile_image)),a.alert=!1,t.messages?!0===t.messages[t.messages.length-1].alert&&t.messages.pop():t.messages=[];var l=this.state.userChatData.messages;if("undefined"!=typeof l&&l.length>0&&l[l.length-1].position===a.position){var c=l[l.length-1];c.avatar="",c.date="",t.messages.pop(),t.messages.push(c)}t.messages.push(a),this.setState({userChatData:t}),console.log("This is state for this component",this.state);var h=document.querySelector('[class="rce-mlist"]');h.scrollTop=h.scrollHeight}},{key:"onUserClicked",value:function(e){var t=e.user;this.socket.emit("sign-in",t);var a=this.state.users.filter((function(e){return e.id!==t.id}));this.setState({user:t,signInModalShow:!1,userChatData:a})}},{key:"onChatClicked",value:function(e){for(var t=this.state.userChatData,a=0;a<t.length;a++)if(t[a].id===e.user.id)return t[a].unread=0,void this.setState({selectedUserIndex:a,userChatData:t})}},{key:"createMessage",value:function(e){var t={to:this.state.targetUser._id,message:{type:"text",text:e,date:+new Date,className:"message"},from:this.state.signedInUser._id};this.socket.emit("message",t)}},{key:"changeProfile",value:function(e){this.setState({signedInUser:e})}},{key:"onProfileModalShow",value:function(e){this.setState({profileModalShow:e})}},{key:"onSearchSettingModalShow",value:function(e){this.setState({searchModalShow:e})}},{key:"onReportModalShow",value:function(e){this.setState({reportModalShow:e})}},{key:"onShowImageFullScreen",value:function(){this.setState({showImageFullScreen:!1})}},{key:"onTyping",value:function(){this.socket.emit("on-typing",this.state.targetUser)}},{key:"onTargetUserTyping",value:function(){var e=this;this.setState({onTyping:!0});var t=this.state.userChatData,a=t.messages,n={};"undefined"!=typeof a&&(!0!==a[a.length-1].alert||0===a.length?(n.position="left",n.renderAddCmp=function(){return i.a.createElement(ae,null)},n.avatar="".concat(b,"/public/profile/").concat(this.state.targetUser.profile_image),n.className="message",n.alert=!0,t.messages||(t.messages=[]),t.messages.push(n),this.setState({userChatData:t}),this.turnOffRedTimeout=setTimeout((function(){!0===(t=e.state.userChatData).messages[t.messages.length-1].alert&&(t.messages.pop(),e.setState({userChatData:t}))}),2e3)):console.log("@@@@@@@***********"))}},{key:"onTargetDisconnect",value:function(){ce.NotificationManager.error("".concat(this.state.targetUser.userName," disconnected from this chat room.")),this.setState({targetUser:""}),this.setState({userChatData:{}})}},{key:"updateProfile",value:function(){var e=g("guest_signin");if(e&&e.token)var t=Se()(e.token).user;this.setState({signedInUser:t,imageHash:Date.now()})}},{key:"closeSettingBox",value:function(){this.setState({profileModalShow:!1,searchModalShow:!1,reportModalShow:!1})}},{key:"logOut",value:function(){console.log("log out call"),this.socket.emit("log-out",Re)}},{key:"onLogOut",value:function(){localStorage.clear(),this.props.history.push("/")}},{key:"onTargetLogout",value:function(){ce.NotificationManager.error("".concat(this.state.targetUser.userName," log out.")),this.setState({targetUser:""}),this.setState({userChatData:{}})}},{key:"startCall",value:function(e,t,a){var n=this;console.log("call start now ",e,t,a),this.config=a,this.pc=new Me(t).on("localStream",(function(t){var a={callWindow:"active",localSrc:t};e||(a.callModal=""),n.setState(a)})).on("peerStream",(function(e){return n.setState({peerSrc:e})})).start(e,a)}},{key:"rejectCall",value:function(){var e=this.state.callFrom;this.socket.emit("end",{to:e}),this.setState({callModal:""})}},{key:"endCall",value:function(e){Ne.a.isFunction(this.pc.stop)&&this.pc.stop(e),this.pc={},this.config=null,this.setState({callWindow:"",callModal:"",localSrc:null,peerSrc:null})}},{key:"render",value:function(){var e=this.state,t=e.callModal,a=e.callWindow,n=e.localSrc,s=e.peerSrc;return i.a.createElement("div",null,i.a.createElement(te,{signedInUser:this.state.signedInUser,imageHash:this.state.imageHash,onSendClicked:this.createMessage.bind(this),targetUser:this.state.userChatData,onProfileModalShow:this.onProfileModalShow.bind(this),onSearchSettingModalShow:this.onSearchSettingModalShow.bind(this),onReportModalShow:this.onReportModalShow.bind(this),findTargetUser:this.findTargetUser.bind(this),onTyping:this.onTyping.bind(this),startCall:this.startCallHandler,logOut:this.logOut.bind(this)}),i.a.createElement(pe,{show:this.state.error,errorMessage:this.state.errorMessage}),i.a.createElement(fe,{show:this.state.loading}),i.a.createElement(ce.NotificationContainer,null),i.a.createElement(ie,{profileInfo:this.state.signedInUser,iamgeHash:this.state.imageHash,onChangeProfile:this.changeProfile.bind(this),onProfileModalShow:this.onProfileModalShow.bind(this),profileContainer:"profile-container-".concat(this.state.profileModalShow),updateProfile:this.updateProfile.bind(this)}),i.a.createElement(le,{searchContainer:"search-container-".concat(this.state.searchModalShow),searchSetting:this.state.searchSetting,onSearchSettingModalShow:this.onSearchSettingModalShow.bind(this)}),i.a.createElement(he,{reportContainer:"report-container-".concat(this.state.reportModalShow),onReportModalShow:this.onReportModalShow.bind(this),signedInUser:this.state.signedInUser,targetUser:this.state.targetUser}),this.state.reportModalShow||this.state.profileModalShow||this.state.searchModalShow?i.a.createElement("div",null,i.a.createElement("div",{className:"setting-back",onClick:this.closeSettingBox.bind(this)})):null,this.state.showImageFullScreen?i.a.createElement(se,{imageUrl:this.state.attachFileUrl,onShowImageFullScreen:this.onShowImageFullScreen.bind(this)}):null,!Ne.a.isEmpty(this.config)&&i.a.createElement(Le,{status:a,localSrc:n,peerSrc:s,config:this.config,mediaDevice:this.pc.mediaDevice,endCall:this.endCallHandler}),this.state.targetUser?i.a.createElement(De,{status:t,startCall:this.startCallHandler,rejectCall:this.rejectCallHandler,callFrom:this.state.targetUser._id,contactUser:this.state.targetUser.userName,userAvatar:this.state.targetUser.profile_image}):null)}}]),a}(n.Component),Be=(a(1021),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",adminSignLoading:!1},n}return Object(l.a)(a,[{key:"handleChangeEmail",value:function(e){console.log("email change",this.state.email),this.setState({email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.email,i=a.password;this.setState({adminSignLoading:!0}),fetch(b+"/api/admin/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:i})}).then((function(e){return e.json()})).then((function(e){console.log("this is json object",e),e.success?t.props.history.push("/admin/manage"):ce.NotificationManager.error("".concat(e.message))}))}},{key:"render",value:function(){return i.a.createElement(v.C,null,i.a.createElement(ce.NotificationContainer,null),i.a.createElement(v.g,{sm:"10",md:"7",lg:"6",xl:"4",className:"mx-auto mt-3 sign-container"},i.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},i.a.createElement(v.c,null,i.a.createElement("div",{className:"text-center sign-title"},i.a.createElement("h5",{className:"dark-grey-text mb-5"},i.a.createElement("strong",null," Adminiatrator Sign in"))),i.a.createElement(v.d,{className:"mx-4"},i.a.createElement(v.p,{label:"Your Email",group:!0,type:"email",onChange:this.handleChangeEmail.bind(this),validate:!0,error:"wrong",success:"right",required:!0}),i.a.createElement(v.p,{group:!0,type:"password",onChange:this.handleChangePassword.bind(this),validate:!0,error:"wrong",success:"right",required:!0}),i.a.createElement("div",{className:"text-center pt-3 mb-3"},i.a.createElement(v.b,{type:"submit",className:"btn-block z-depth-1a",outline:!0,color:"info"},this.state.logInLoading?"Authenticating...":"SignIn"))),i.a.createElement(v.t,{className:"mx-5 pt-3 mb-1"})))))}}]),a}(i.a.Component)),Ge=(a(1022),function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userListShow:!0,userProfileShow:!1,adminProfileShow:!1,toggleWrapper:!0},n.updateUserProfile=n.updateUserProfile.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUserList(),this.getAdminInfo()}},{key:"componentDidUpdate",value:function(){var e=document.querySelector("#sidebar-toggle"),t=document.querySelector("#wrapper");e.addEventListener("click",(function(e){e.preventDefault(),t.classList.toggle("toggled")}))}},{key:"getUserList",value:function(){var e=this;fetch(b+"/api/admin/manage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(t){t.success?e.setState({users:t.users}):ce.NotificationManager.error("".concat(t.message))}))}},{key:"getAdminInfo",value:function(){var e=this;fetch(b+"/api/admin/get-info",{method:"POST",headers:{"Content-Type":"application/json"},bpdy:JSON.stringify({})}).then((function(e){return e.json()})).then((function(t){t.success&&e.setState({email:t.admin.email})}))}},{key:"updateUserProfile",value:function(e){this.setState({userListShow:!1,userProfileShow:!0,selectedUser:e})}},{key:"userListShow",value:function(){this.setState({userListShow:!0,userProfileShow:!1,adminProfileShow:!1})}},{key:"adminProfileShow",value:function(){this.setState({userListShow:!1,userProfileShow:!1,adminProfileShow:!0})}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeConfirmPassword",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"enableUser",value:function(){var e=this;console.log("sdfsdf",this.state.users),fetch(b+"/api/admin/enable-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.state.selectedUser})}).then((function(e){return e.json()})).then((function(t){if(t.success){ce.NotificationManager.success("".concat(t.message));var a=t.user;console.log("enable user information",a),e.setState({selectedUser:a}),e.state.users.map((function(t,n){if(t._id==a._id){var i=e.state.users;i[n]=a,e.setState({users:i})}}))}else ce.NotificationManager.error("".concat(t.message))}))}},{key:"handleSubmit",value:function(){var e=this.state,t=e.email,a=e.password,n=e.confirmPassword;fetch(b+"/api/admin/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a,confirmPassword:n})}).then((function(e){return e.json()})).then((function(e){e.success?ce.NotificationManager.success("".concat(e.message)):ce.NotificationManager.error("".concat(e.message))}))}},{key:"toggleWrapper",value:function(){this.setState({toggleWrapper:!this.state.toggleWrapper})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(ce.NotificationContainer,null),i.a.createElement("aside",{id:"sidebar-wrapper",className:this.state.toggleWrapper?"shrink-sidebar":"expand-sidebar"},i.a.createElement("div",{className:"sidebar-brand"},i.a.createElement("h2",null)),i.a.createElement("ul",{className:"sidebar-nav"},i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:this.userListShow.bind(this)},i.a.createElement("i",{className:"fa fa-tasks"}),"User Manage")),i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:this.adminProfileShow.bind(this)},i.a.createElement("i",{className:"fa fa-user"}),"Profile")))),i.a.createElement("div",{id:"wrapper",className:this.state.toggleWrapper?"expand-wrapper":"shrink-wrapper"},i.a.createElement("div",{id:"navbar-wrapper"},i.a.createElement("nav",{className:"navbar navbar-inverse"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"navbar-header"},i.a.createElement("a",{href:"#",className:"navbar-brand",id:"sidebar-toggle"},i.a.createElement("i",{className:"fa fa-bars",onClick:this.toggleWrapper.bind(this)})))))),this.state.userListShow?i.a.createElement("section",{className:"content-wrapper user-manage"},i.a.createElement("h2",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-10 offset-lg-1"},this.state.users?i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{summary:"This table shows how to create responsive tables using Bootstrap's default functionality",className:"table table-bordered table-hover"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Num"),i.a.createElement("th",null,"Avatar"),i.a.createElement("th",null,"User Name"),i.a.createElement("th",null,"Age"),i.a.createElement("th",null,"Location"),i.a.createElement("th",null,"Gender"),i.a.createElement("th",null,"Ip Address"),i.a.createElement("th",null,"Reported Number"),i.a.createElement("th",null,"Allowed"),i.a.createElement("th",null,"Action"))),i.a.createElement("tbody",null,this.state.users.map((function(t,a){return i.a.createElement("tr",null,i.a.createElement("td",null,a+1),i.a.createElement("td",null,i.a.createElement("img",{src:"".concat(b,"/public/profile/").concat(t.profile_image),alt:"profile-img"}),"   "),i.a.createElement("td",null,t.userName),i.a.createElement("td",null,t.age),i.a.createElement("td",null,t.location),i.a.createElement("td",null,t.gender),i.a.createElement("td",null,t.ip_address),i.a.createElement("td",null,t.report_number),i.a.createElement("td",null,t.isDeleted?"Disabled":"Enabled"),i.a.createElement("td",null,i.a.createElement(v.b,{type:"button",className:"btn-block z-depth-1a",size:"sm",color:"primary",onClick:function(){return e.updateUserProfile(t)}},"Update")))}))))):i.a.createElement("div",{className:"loading-container"},i.a.createElement("div",{className:"loading"}),i.a.createElement("div",{id:"loading-text"},"loading"))))):null,this.state.adminProfileShow?i.a.createElement("section",{className:"content-wrapper "},i.a.createElement(v.g,{sm:"10",md:"7",lg:"6",xl:"4",className:"mx-auto mt-3 admin-profile"},i.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},i.a.createElement(v.c,null,i.a.createElement("div",{className:"text-center sign-title"},i.a.createElement("h5",{className:"dark-grey-text mb-5"},i.a.createElement("strong",null," Update Profile"))),i.a.createElement(v.d,{className:"mx-4"},i.a.createElement(v.p,{label:"Your Email",group:!0,type:"email",value:this.state.email?this.state.email:"",onChange:this.handleChangeEmail.bind(this),validate:!0,error:"wrong",success:"right",required:!0}),i.a.createElement(v.p,{group:!0,type:"password",label:"Password",onChange:this.handleChangePassword.bind(this),validate:!0,error:"wrong",success:"right",required:!0}),i.a.createElement(v.p,{group:!0,type:"password",label:"Confirm Password",onChange:this.handleChangeConfirmPassword.bind(this),validate:!0,error:"wrong",success:"right",required:!0}),i.a.createElement("div",{className:"text-center pt-3 mb-3"},i.a.createElement(v.b,{type:"submit",className:"btn-block z-depth-1a",outline:!0,color:"info"},"Update"))),i.a.createElement(v.t,{className:"mx-5 pt-3 mb-1"}))))):null,this.state.userProfileShow?i.a.createElement("section",{className:"content-wrapper "},i.a.createElement(v.g,{sm:"10",md:"10",lg:"8",xl:"6",className:"mx-auto mt-3 user-profile"},i.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},i.a.createElement(v.c,null,i.a.createElement("div",{className:"avatar-container"},i.a.createElement("img",{src:"".concat(b,"/public/profile/").concat(this.state.selectedUser.profile_image),alt:"user-img"}),i.a.createElement("h2",null,this.state.selectedUser.userName)),i.a.createElement("div",{className:"contact-information"},i.a.createElement("div",{className:"contact-title"},i.a.createElement("span",null,"PERSONAL & CONTACT INFORMATION")),i.a.createElement("div",{className:"contact-body"},i.a.createElement("div",{className:"contact-sub-body"},i.a.createElement("div",{className:"contact-sub-left"},i.a.createElement("i",{className:"fa fa-transgender","aria-hidden":"true"}),"Gender"),i.a.createElement("div",{className:"contact-sub-right"},i.a.createElement("span",null,this.state.selectedUser.gender))),i.a.createElement("div",{className:"contact-sub-body"},i.a.createElement("div",{className:"contact-sub-left"},i.a.createElement("i",{className:"fa fa-user"}),"User Name"),i.a.createElement("div",{className:"contact-sub-right"},i.a.createElement("span",null,this.state.selectedUser.userName))),i.a.createElement("div",{className:"contact-sub-body"},i.a.createElement("div",{className:"contact-sub-left"},i.a.createElement("i",{className:"fa fa-birthday-cake","aria-hidden":"true"}),"Age"),i.a.createElement("div",{className:"contact-sub-right"},i.a.createElement("span",null,this.state.selectedUser.age))),i.a.createElement("div",{className:"contact-sub-body"},i.a.createElement("div",{className:"contact-sub-left"},i.a.createElement("i",{className:"fas fa-map-marker-alt"}),"Location"),i.a.createElement("div",{className:"contact-sub-right"},i.a.createElement("span",null,this.state.selectedUser.location))),i.a.createElement("div",{className:"contact-sub-body"},i.a.createElement("div",{className:"contact-sub-left"},i.a.createElement("i",{className:"fa fa-server","aria-hidden":"true"}),"Ip Address"),i.a.createElement("div",{className:"contact-sub-right"},i.a.createElement("span",null,this.state.selectedUser.ip_address))),i.a.createElement("div",{className:"contact-sub-body"},i.a.createElement("div",{className:"contact-sub-left"},i.a.createElement("i",{className:"fa fa-ban","aria-hidden":"true"}),"Allowed"),i.a.createElement("div",{className:"contact-sub-right"},i.a.createElement("div",{className:"button-switch"},i.a.createElement("input",{type:"checkbox",id:"switch-blue",className:"switch",onChange:this.enableUser.bind(this),checked:!this.state.selectedUser.isDeleted}),i.a.createElement("label",{for:"switch-blue",className:"lbl-off"},"No"),i.a.createElement("label",{for:"switch-blue",className:"lbl-on"},"Yes")))),i.a.createElement("div",{className:"contact-sub-body"},i.a.createElement("div",{className:"contact-sub-left"},i.a.createElement("i",{className:"fa fa-file","aria-hidden":"true"}),"Report Number"),i.a.createElement("div",{className:"contact-sub-right"},i.a.createElement("span",null,this.state.selectedUser.report_number)))),i.a.createElement("div",{className:"report-title"},i.a.createElement("span",null,"REPORT LIST")),i.a.createElement("div",{className:"report-body"},this.state.selectedUser.report_reason.map((function(t,a){return i.a.createElement("div",{className:"report-sub-body"},e.state.users.map((function(e){if(e._id==t.reporter_id)return i.a.createElement("div",{className:"report-sub-left"},i.a.createElement("img",{src:"".concat(b,"/public/profile/").concat(e.profile_image),alt:"reporter_img"}),i.a.createElement("span",null,e.userName))})),i.a.createElement("div",{className:"contact-sub-right"},i.a.createElement("span",null,t.reason)))})))))))):null))}}]),a}(i.a.Component)),ze=function(){var e=g("guest_signin");return!(!e||!e.token)},We=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return i.a.createElement(m.b,Object.assign({},a,{render:function(e){return ze()?i.a.createElement(m.a,{to:"/chat"}):i.a.createElement(t,e)}}))},He=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return i.a.createElement(m.b,Object.assign({},a,{render:function(e){return ze()?i.a.createElement(t,e):i.a.createElement(m.a,{to:"/"})}}))},Ve=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement(m.d,null,i.a.createElement(We,{exact:!0,path:"/",component:E}),i.a.createElement(We,{path:"/usersign",component:P}),i.a.createElement(We,{path:"/guest",component:T}),i.a.createElement(He,{path:"/chat",component:_e}),i.a.createElement(m.b,{exact:!0,path:"/admin",component:Be}),i.a.createElement(m.b,{path:"/admin/manage",component:Ge}))}}]),a}(i.a.Component),qe=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement(u.a,null,i.a.createElement(Ve,null))}}]),a}(n.Component),Ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Je(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(i.a.createElement(qe,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Ke?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Je(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Je(e)}))}}()},471:function(e,t,a){e.exports=a(1023)},479:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},518:function(e,t,a){},521:function(e,t,a){},799:function(e,t,a){},800:function(e,t,a){},801:function(e,t,a){},856:function(e,t,a){},866:function(e,t,a){},972:function(e,t){},974:function(e,t){},989:function(e,t,a){}},[[471,1,2]]]);
//# sourceMappingURL=main.9e1955f2.chunk.js.map